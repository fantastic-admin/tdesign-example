
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{c as oe,d as $,a as h,x as X,o as _,b as P,w as s,e as t,u as e,K as ne,r as j,m as k,f as q,z as le,g as D,h as W,i as Y,j as T,k as o,l as re,n as S,t as ee,p as ie,q as E,v as K,T as V,s as ce,y as ue,A as v,_ as M,B as de,C as N,D as pe,E as me,F as fe,G as ge,H as te,O as ve,$ as _e,I as H,J as se,L as be,M as xe,N as ye,P as we,Q as J,R as he,S as Q}from"./index-GgsX_ArO.js";import{i as ke}from"./logo-C5blItxa.js";import{_ as U}from"./index-C9s8FUZU.js";import{_ as $e}from"./index.vue_vue_type_script_setup_true_lang-3KQc3MdR.js";import{u as A,t as Z,o as G,s as C,b as Pe,_ as B,a as I,c as L,F as R}from"./vee-validate-zod-BiahlfDF.js";import{_ as Se}from"./index.vue_vue_type_script_setup_true_lang-6Nx7KXBv.js";import Fe from"./index-DuZxnS3N.js";import{_ as Ce}from"./index.vue_vue_type_script_setup_true_lang-uXoRlPpk.js";/**
 * @license lucide-vue-next v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=oe("CheckIcon",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Be="/tdesign-example/assets/login-banner-ZfMZACb6.png",Ie=$({__name:"Checkbox",props:{defaultChecked:{type:Boolean},checked:{type:[Boolean,String]},disabled:{type:Boolean},required:{type:Boolean},name:{},value:{},id:{},asChild:{type:Boolean},as:{},class:{}},emits:["update:checked"],setup(g,{emit:p}){const m=g,u=p,d=h(()=>{const{class:c,...n}=m;return n}),i=X(d,u);return(c,n)=>(_(),P(e(le),k(e(i),{class:e(q)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",m.class)}),{default:s(()=>[t(e(ne),{class:"h-full w-full flex items-center justify-center text-current"},{default:s(()=>[j(c.$slots,"default",{},()=>[t(e(Ve),{class:"h-4 w-4"})])]),_:3})]),_:3},16,["class"]))}}),Re={class:"flex-center-start gap-2"},Le=["for"],ze=$({name:"FaCheckbox",__name:"index",props:D({disabled:{type:Boolean}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(g){const p=W(g,"modelValue"),m=Y();return(u,d)=>(_(),T("div",Re,[t(e(Ie),{id:e(m),checked:p.value,"onUpdate:checked":d[0]||(d[0]=i=>p.value=i),disabled:u.disabled},null,8,["id","checked","disabled"]),o("label",{for:e(m),class:"cursor-pointer text-sm"},[j(u.$slots,"default")],8,Le)]))}}),Te={class:"min-h-500px w-full flex-col-stretch-center p-12"},Ne={class:"mb-4"},Oe={class:"mb-4 flex-center-between"},je={class:"flex-center-start"},qe={class:"mt-4 flex-center gap-2 text-sm"},De={class:"mt-4 text-center -mb-4"},Me={class:"space-x-2"},Ue="Fantastic-admin 基础版",Ae=$({name:"LoginForm",__name:"LoginForm",props:{account:{}},emits:["onLogin","onRegister","onResetPassword"],setup(g,{emit:p}){const m=g,u=p,d=re(),i=S(!1),c=S("default"),n=A({validationSchema:Z(G({account:C().min(1,"请输入用户名"),password:C().min(1,"请输入密码"),remember:Pe()})),initialValues:{account:m.account??localStorage.getItem("login_account")??"",password:"",remember:!!localStorage.getItem("login_account")}}),f=n.handleSubmit(r=>{i.value=!0,d.login(r).then(()=>{r.remember?localStorage.setItem("login_account",r.account):localStorage.removeItem("login_account"),u("onLogin",r.account)}).finally(()=>{i.value=!1})});function l(r){n.setFieldValue("account",r),n.setFieldValue("password","123456"),f()}return(r,a)=>{const F=$e,y=U,w=ze,b=M,z=de;return _(),T("div",Te,[o("div",{class:"mb-6 space-y-2"},[a[6]||(a[6]=o("h3",{class:"text-4xl color-[var(--el-text-color-primary)] font-bold"}," 欢迎使用 👋🏻 ",-1)),o("p",{class:"text-sm text-muted-foreground lg:text-base"},ee(Ue))]),o("div",Ne,[t(F,{modelValue:e(c),"onUpdate:modelValue":a[0]||(a[0]=x=>ie(c)?c.value=x:null),list:[{label:"账号密码登录",value:"default"},{label:"扫码登录",value:"qrcode"}],class:"inline-flex"},null,8,["modelValue"])]),E(o("div",null,[o("form",{onSubmit:a[3]||(a[3]=(...x)=>e(f)&&e(f)(...x))},[t(e(R),{name:"account"},{default:s(({componentField:x,errors:O})=>[t(e(B),{class:"relative pb-6 space-y-0"},{default:s(()=>[t(e(I),null,{default:s(()=>[t(y,k({type:"text",placeholder:"请输入用户名",class:["w-full",O.length&&"border-destructive"]},x),null,16,["class"])]),_:2},1024),t(V,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:s(()=>[t(e(L),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),t(e(R),{name:"password"},{default:s(({componentField:x,errors:O})=>[t(e(B),{class:"relative pb-6 space-y-0"},{default:s(()=>[t(e(I),null,{default:s(()=>[t(y,k({type:"password",placeholder:"请输入密码",class:["w-full",O.length&&"border-destructive"]},x),null,16,["class"])]),_:2},1024),t(V,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:s(()=>[t(e(L),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),o("div",Oe,[o("div",je,[t(e(R),{type:"checkbox",name:"remember"},{default:s(({componentField:x})=>[t(e(B),null,{default:s(()=>[t(e(I),null,{default:s(()=>[t(w,ce(ue(x)),{default:s(()=>a[7]||(a[7]=[v(" 记住我 ")])),_:2},1040)]),_:2},1024)]),_:2},1024)]),_:1})]),t(b,{variant:"link",class:"h-auto p-0",type:"button",onClick:a[1]||(a[1]=x=>u("onResetPassword",e(n).values.account))},{default:s(()=>a[8]||(a[8]=[v(" 忘记密码了? ")])),_:1})]),t(b,{loading:e(i),size:"lg",class:"w-full",type:"submit"},{default:s(()=>a[9]||(a[9]=[v(" 登录 ")])),_:1},8,["loading"]),o("div",qe,[a[11]||(a[11]=o("span",{class:"text-secondary-foreground op-50"},"还没有帐号?",-1)),t(b,{variant:"link",class:"h-auto p-0",type:"button",onClick:a[2]||(a[2]=x=>u("onRegister",e(n).values.account))},{default:s(()=>a[10]||(a[10]=[v(" 注册新帐号 ")])),_:1})])],32),o("div",De,[t(z,null,{default:s(()=>a[12]||(a[12]=[v("演示账号一键登录")])),_:1}),o("div",Me,[t(b,{variant:"default",size:"sm",plain:"",onClick:a[4]||(a[4]=x=>l("admin"))},{default:s(()=>a[13]||(a[13]=[v(" admin ")])),_:1}),t(b,{variant:"outline",size:"sm",plain:"",onClick:a[5]||(a[5]=x=>l("test"))},{default:s(()=>a[14]||(a[14]=[v(" test ")])),_:1})])])],512),[[K,e(c)==="default"]]),E(o("div",null,a[15]||(a[15]=[o("div",{class:"flex-col-center"},[o("img",{src:"https://s2.loli.net/2024/04/26/GsahtuIZ9XOg5jr.png",class:"h-[250px] w-[250px]"}),o("div",{class:"mt-2 text-sm text-secondary-foreground op-50"}," 请使用微信扫码登录 ")],-1)]),512),[[K,e(c)==="qrcode"]])])}}}),Ze={class:"w-full flex-center gap-2"},Ge={class:"h-2 flex-1 overflow-hidden rounded-full bg-border"},Ee={class:"py-1"},Ke={class:"text-sm text-muted-foreground space-y-1"},He=5,Je=$({name:"FaPasswordStrength",__name:"index",props:{password:{default:""}},setup(g){const p=g,m=h(()=>p.password.length>=8),u=h(()=>/[A-Z]/.test(p.password)),d=h(()=>/[a-z]/.test(p.password)),i=h(()=>/\d/.test(p.password)),c=h(()=>/[^A-Z0-9]/i.test(p.password)),n=h(()=>{let l=0;return m.value&&l++,u.value&&l++,d.value&&l++,i.value&&l++,c.value&&l++,l}),f=h(()=>n.value===0?"bg-red-500":n.value<3?"bg-orange-500":n.value<5?"bg-yellow-500":"bg-green-500");return(l,r)=>{const a=me,F=Se;return _(),T("div",Ze,[o("div",Ge,[o("div",{class:N([e(f),"h-full transition-all duration-300 ease-out"]),style:pe({width:`${e(n)/He*100}%`})},null,6)]),t(F,null,{content:s(()=>[o("div",Ee,[r[5]||(r[5]=o("div",{class:"mb-1 text-sm text-muted-foreground"}," 建议 ",-1)),o("ul",Ke,[o("li",{class:N(["flex-center-start gap-1",{"text-green-600":e(m)}])},[t(a,{name:e(m)?"i-carbon:checkmark":"i-carbon:close"},null,8,["name"]),r[0]||(r[0]=v(" 长度至少为8个字符 "))],2),o("li",{class:N(["flex-center-start gap-1",{"text-green-600":e(u)}])},[t(a,{name:e(u)?"i-carbon:checkmark":"i-carbon:close"},null,8,["name"]),r[1]||(r[1]=v(" 包含大写字母 "))],2),o("li",{class:N(["flex-center-start gap-1",{"text-green-600":e(d)}])},[t(a,{name:e(d)?"i-carbon:checkmark":"i-carbon:close"},null,8,["name"]),r[2]||(r[2]=v(" 包含小写字母 "))],2),o("li",{class:N(["flex-center-start gap-1",{"text-green-600":e(i)}])},[t(a,{name:e(i)?"i-carbon:checkmark":"i-carbon:close"},null,8,["name"]),r[3]||(r[3]=v(" 包含数字 "))],2),o("li",{class:N(["flex-center-start gap-1",{"text-green-600":e(c)}])},[t(a,{name:e(c)?"i-carbon:checkmark":"i-carbon:close"},null,8,["name"]),r[4]||(r[4]=v(" 包含特殊字符 "))],2)])])]),default:s(()=>[t(a,{name:"i-ri:question-line",class:"cursor-help text-sm text-muted-foreground"})]),_:1})])}}}),Qe={class:"min-h-500px w-full flex-col-stretch-center p-12"},Xe={class:"mt-4 flex-center gap-2 text-sm"},We=$({name:"RegisterForm",__name:"RegisterForm",props:{account:{}},emits:["onLogin","onRegister"],setup(g,{emit:p}){const m=g,u=p,d=S(!1),i=A({validationSchema:Z(G({account:C().min(1,"请输入用户名"),captcha:C().min(6,"请输入验证码"),password:C().min(1,"请输入密码").min(6,"密码长度为6到18位").max(18,"密码长度为6到18位"),checkPassword:C().min(1,"请再次输入密码")}).refine(n=>n.password===n.checkPassword,{message:"两次输入的密码不一致",path:["checkPassword"]})),initialValues:{account:m.account??"",captcha:"",password:"",checkPassword:""}}),c=i.handleSubmit(n=>{d.value=!0,u("onRegister",n.account)});return(n,f)=>{const l=U,r=Je,a=fe("FormDescription"),F=M;return _(),T("div",Qe,[o("form",{onSubmit:f[1]||(f[1]=(...y)=>e(c)&&e(c)(...y))},[f[5]||(f[5]=o("div",{class:"mb-8 space-y-2"},[o("h3",{class:"text-4xl color-[var(--el-text-color-primary)] font-bold"}," 探索从这里开始 🚀 "),o("p",{class:"text-sm text-muted-foreground lg:text-base"}," 演示系统未提供该功能 ")],-1)),t(e(R),{name:"account"},{default:s(({componentField:y,errors:w})=>[t(e(B),{class:"relative pb-6 space-y-0"},{default:s(()=>[t(e(I),null,{default:s(()=>[t(l,k({type:"text",placeholder:"请输入用户名",class:["w-full",w.length&&"border-destructive"]},y),null,16,["class"])]),_:2},1024),t(V,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:s(()=>[t(e(L),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),t(e(R),{name:"password"},{default:s(({componentField:y,value:w,errors:b})=>[t(e(B),{class:"relative pb-6 space-y-0"},{default:s(()=>[t(e(I),null,{default:s(()=>[t(l,k({type:"password",placeholder:"请输入密码",class:["w-full",b.length&&"border-destructive"]},y),null,16,["class"])]),_:2},1024),t(a,null,{default:s(()=>[t(r,{password:w,class:"mt-2"},null,8,["password"])]),_:2},1024),t(V,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:s(()=>[t(e(L),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),t(e(R),{name:"checkPassword"},{default:s(({componentField:y,errors:w})=>[t(e(B),{class:"relative pb-6 space-y-0"},{default:s(()=>[t(e(I),null,{default:s(()=>[t(l,k({type:"password",placeholder:"请再次输入密码",class:["w-full",w.length&&"border-destructive"]},y),null,16,["class"])]),_:2},1024),t(V,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:s(()=>[t(e(L),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),t(F,{loading:e(d),size:"lg",class:"mt-4 w-full",type:"submit"},{default:s(()=>f[2]||(f[2]=[v(" 注册 ")])),_:1},8,["loading"]),o("div",Xe,[f[4]||(f[4]=o("span",{class:"text-secondary-foreground op-50"},"已经有帐号?",-1)),t(F,{variant:"link",class:"h-auto p-0",onClick:f[0]||(f[0]=y=>u("onLogin",e(i).values.account))},{default:s(()=>f[3]||(f[3]=[v(" 去登录 ")])),_:1})])],32)])}}}),Ye=$({__name:"PinInput",props:{modelValue:{default:()=>[]},defaultValue:{},placeholder:{},mask:{type:Boolean},otp:{type:Boolean},type:{},dir:{},name:{},disabled:{type:Boolean},required:{type:Boolean},id:{},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue","complete"],setup(g,{emit:p}){const m=g,u=p,d=h(()=>{const{class:c,...n}=m;return n}),i=X(d,u);return(c,n)=>(_(),P(e(ge),k(e(i),{class:e(q)("flex gap-2 items-center",m.class)}),{default:s(()=>[j(c.$slots,"default")]),_:3},16,["class"]))}}),et=$({__name:"PinInputGroup",props:{asChild:{type:Boolean},as:{},class:{}},setup(g){const p=g,m=h(()=>{const{class:d,...i}=p;return i}),u=te(m);return(d,i)=>(_(),P(e(ve),k(e(u),{class:e(q)("flex items-center",p.class)}),{default:s(()=>[j(d.$slots,"default")]),_:3},16,["class"]))}}),tt=$({__name:"PinInputInput",props:{index:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(g){const p=g,m=h(()=>{const{class:d,...i}=p;return i}),u=te(m);return(d,i)=>(_(),P(e(_e),k(e(u),{class:e(q)("relative text-center focus:outline-none focus:ring-2 focus:ring-ring focus:relative focus:z-10 flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",p.class)}),null,16,["class"]))}}),st=$({name:"FaPinInput",__name:"index",props:D({length:{default:6}},{modelValue:{},modelModifiers:{}}),emits:D(["complete"],["update:modelValue"]),setup(g,{emit:p}){const m=p,u=W(g,"modelValue"),d=S([]);H(u,n=>{d.value=(n==null?void 0:n.split(""))??[]}),H(d,n=>{u.value=n.join("")});function i(n){u.value=n.join(""),m("complete")}const c=Y();return(n,f)=>(_(),P(e(Ye),{id:e(c),"model-value":e(d),placeholder:"○",otp:"",type:"number",onComplete:i,"onUpdate:modelValue":f[0]||(f[0]=l=>d.value=l.filter(Boolean))},{default:s(()=>[t(e(et),null,{default:s(()=>[(_(!0),T(se,null,be(n.length,(l,r)=>(_(),P(e(tt),{key:l,index:r},null,8,["index"]))),128))]),_:1})]),_:1},8,["id","model-value"]))}}),at={class:"min-h-500px w-full flex-col-stretch-center p-12"},ot={class:"flex-start-between gap-2"},nt={class:"mt-4 flex-center gap-2 text-sm color-[var(--el-text-color-secondary)]"},lt=$({name:"ResetPasswordForm",__name:"ResetPasswordForm",props:{account:{}},emits:["onLogin","onResetPassword"],setup(g,{emit:p}){const m=g,u=p,d=S(!1),i=A({validationSchema:Z(G({account:C().min(1,"请输入用户名"),captcha:C().min(6,"请输入验证码"),newPassword:C().min(1,"请输入新密码").min(6,"密码长度为6到18位").max(18,"密码长度为6到18位")})),initialValues:{account:m.account??"",captcha:"",newPassword:""}}),c=i.handleSubmit(r=>{d.value=!0,u("onResetPassword",r.account)}),n=S(0),f=S(Number.NaN);function l(){n.value=60,f.value=window.setInterval(()=>{n.value--,n.value===0&&clearInterval(f.value)},1e3)}return(r,a)=>{const F=U,y=st,w=M;return _(),T("div",at,[o("form",{onSubmit:a[1]||(a[1]=(...b)=>e(c)&&e(c)(...b))},[a[4]||(a[4]=o("div",{class:"mb-8 space-y-2"},[o("h3",{class:"text-4xl color-[var(--el-text-color-primary)] font-bold"}," 忘记密码了? 🔒 "),o("p",{class:"text-sm text-muted-foreground lg:text-base"}," 演示系统未提供该功能 ")],-1)),t(e(R),{name:"account"},{default:s(({componentField:b,errors:z})=>[t(e(B),{class:"relative pb-6 space-y-0"},{default:s(()=>[t(e(I),null,{default:s(()=>[t(F,k({type:"text",placeholder:"请输入用户名",class:["w-full",z.length&&"border-destructive"]},b),null,16,["class"])]),_:2},1024),t(V,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:s(()=>[t(e(L),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),o("div",ot,[t(e(R),{name:"captcha"},{default:s(({componentField:b,value:z,setValue:x})=>[t(e(B),{class:"relative pb-6 space-y-0"},{default:s(()=>[t(e(I),null,{default:s(()=>[t(y,{"model-value":z,name:b.name,length:6,class:"border-destructive","onUpdate:modelValue":O=>x(O)},null,8,["model-value","name","onUpdate:modelValue"])]),_:2},1024),t(V,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:s(()=>[t(e(L),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),t(w,{variant:"outline",size:"lg",disabled:e(n)>0,class:"flex-1 px-4",onClick:l},{default:s(()=>[v(ee(e(n)===0?"发送验证码":`${e(n)} 秒后可重新发送`),1)]),_:1},8,["disabled"])]),t(e(R),{name:"newPassword"},{default:s(({componentField:b,errors:z})=>[t(e(B),{class:"relative pb-6 space-y-0"},{default:s(()=>[t(e(I),null,{default:s(()=>[t(F,k({type:"password",placeholder:"请输入新密码",class:["w-full",z.length&&"border-destructive"]},b),null,16,["class"])]),_:2},1024),t(V,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:s(()=>[t(e(L),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),t(w,{loading:e(d),size:"lg",class:"mt-4 w-full",type:"submit"},{default:s(()=>a[2]||(a[2]=[v(" 确认 ")])),_:1},8,["loading"]),o("div",nt,[t(w,{variant:"link",class:"h-auto p-0",onClick:a[0]||(a[0]=b=>u("onLogin",e(i).values.account))},{default:s(()=>a[3]||(a[3]=[v(" 去登录 ")])),_:1})])],32)])}}}),rt={class:"absolute right-4 top-4 z-1 flex-center border rounded-lg bg-background p-1 text-base"},it={class:"login-box"},ct={class:"login-form flex-col-center"},ae=$({name:"Login",__name:"login",setup(g){var n;const p=xe(),m=ye(),u=we(),d=S(((n=p.query.redirect)==null?void 0:n.toString())??u.settings.home.fullPath),i=S(),c=S("login");return(f,l)=>(_(),T(se,null,[l[8]||(l[8]=o("div",{class:"bg-banner"},null,-1)),o("div",rt,[e(u).settings.toolbar.colorScheme?(_(),P(Ce,{key:0})):J("",!0)]),o("div",it,[l[7]||(l[7]=o("div",{class:"login-banner"},[o("img",{src:ke,class:"absolute inset-s-4 inset-t-4 h-30px rounded ring ring-border"}),o("img",{src:Be,class:"banner"})],-1)),o("div",ct,[t(V,{name:"fade",mode:"out-in"},{default:s(()=>[e(c)==="login"?(_(),P(Ae,{key:0,account:e(i),onOnLogin:l[0]||(l[0]=r=>e(m).push(e(d))),onOnRegister:l[1]||(l[1]=r=>{c.value="register",i.value=r}),onOnResetPassword:l[2]||(l[2]=r=>{c.value="resetPassword",i.value=r})},null,8,["account"])):e(c)==="register"?(_(),P(We,{key:1,account:e(i),onOnRegister:l[3]||(l[3]=r=>{c.value="login",i.value=r}),onOnLogin:l[4]||(l[4]=r=>c.value="login")},null,8,["account"])):e(c)==="resetPassword"?(_(),P(lt,{key:2,account:e(i),onOnResetPassword:l[5]||(l[5]=r=>{c.value="login",i.value=r}),onOnLogin:l[6]||(l[6]=r=>c.value="login")},null,8,["account"])):J("",!0)]),_:1})])]),t(Fe)],64))}});typeof Q=="function"&&Q(ae);const bt=he(ae,[["__scopeId","data-v-4b061d81"]]);export{bt as default};
