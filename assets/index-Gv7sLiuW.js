
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as P,M as $,P as N,W as A,X as E,a as r,I as b,V as H,Y as u,Z as B,F as D,o as n,j as f,k as s,e as i,C as h,u as o,w as v,T as L,b as d,q as R,v as W,a0 as _,a1 as T,Q as z,J as F,D as K,E as j,R as q}from"./index-GgsX_ArO.js";import{u as J}from"./index-B1NO2H_f.js";import{e as Q}from"./eventBus-B6m-TO0x.js";import U from"./index-s3440NC5.js";import{_ as X}from"./index.vue_vue_type_script_setup_true_lang-B50k2Td2.js";import Y from"./index-DuZxnS3N.js";import Z from"./index-U110Fs9u.js";import{_ as G}from"./index.vue_vue_type_script_setup_true_lang-DF9wtfVm.js";import O from"./index-B1dbF-5b.js";import ee from"./index-DJ4j-y6v.js";import te from"./index-DaYSe36M.js";import oe from"./link-C2fBXa6M.js";import{u as ie}from"./useMainPage-CMWijB33.js";import{u as se}from"./useMenu-mIjDt_0e.js";import"./index.vue_vue_type_script_setup_true_lang-BOcZ4Qej.js";import"./index-C9s8FUZU.js";import"./vee-validate-zod-BiahlfDF.js";import"./index.vue_vue_type_script_setup_true_lang-6Nx7KXBv.js";import"./index.vue_vue_type_script_setup_true_lang-3KQc3MdR.js";import"./index.vue_vue_type_script_setup_true_lang-XCHX1oD7.js";import"./logo-C5blItxa.js";import"./rightSide.vue_vue_type_script_setup_true_lang-BaTSo740.js";import"./index.vue_vue_type_script_setup_true_lang-uXoRlPpk.js";import"./index.vue_vue_type_script_setup_true_lang-D2wxJt7b.js";import"./index.vue_vue_type_script_setup_true_lang-gCA2fcWq.js";import"./index.vue_vue_type_script_setup_true_lang-iPFP11Su.js";import"./search.vue_vue_type_script_setup_true_lang-BEnM9DG1.js";import"./index-Br3xbZ-r.js";import"./item.vue_vue_type_script_setup_true_lang-DtgV2Sds.js";import"./index-PmQsuq3s.js";import"./index.vue_vue_type_script_setup_true_lang-CQ_U2fsj.js";import"./item.vue_vue_type_script_setup_true_lang-XCZwMVQk.js";import"./sub.vue_vue_type_script_setup_true_lang-Cre99PBe.js";import"./index-B552s1zd.js";import"./index-DOFWZc3O.js";import"./leftSide.vue_vue_type_script_setup_true_lang-DVNvhPxK.js";import"./index-ChB6BXxO.js";const ae={id:"app-main"},ne={class:"wrapper"},re={class:"main-container pb-[var(--g-main-container-padding-bottom)]"},me={class:"main"},le=P({name:"Layout",__name:"index",setup(ue){const c=$(),t=N(),y=A(),m=E(),S=ie(),C=se(),w=r(()=>{let e=Number.parseInt(getComputedStyle(document.documentElement).getPropertyValue("--g-header-height"));return(["single","side"].includes(t.settings.menu.mode)||t.mode==="mobile")&&(e=0),e}),k=r(()=>{let e=Number.parseInt(getComputedStyle(document.documentElement).getPropertyValue("--g-main-sidebar-width"));return(t.settings.menu.mode==="single"||t.settings.menu.mode==="head"&&t.mode!=="mobile")&&(e=0),e}),M=r(()=>{let e=Number.parseInt(getComputedStyle(document.documentElement).getPropertyValue("--g-sub-sidebar-width"));return t.settings.menu.subMenuCollapse&&t.mode!=="mobile"&&(e=Number.parseInt(getComputedStyle(document.documentElement).getPropertyValue("--g-sub-sidebar-collapse-width"))),m.sidebarMenus.every(a=>{var l;return((l=a.meta)==null?void 0:l.menu)===!1})&&(e=0),e}),V=r(()=>{let e=0;return t.settings.tabbar.enable&&(e+=Number.parseInt(getComputedStyle(document.documentElement).getPropertyValue("--g-tabbar-height"))),(!["head"].includes(t.settings.menu.mode)||t.settings.toolbar.breadcrumb)&&(e+=Number.parseInt(getComputedStyle(document.documentElement).getPropertyValue("--g-toolbar-height"))),e}),g=r(()=>!!c.meta.link);return b(()=>t.settings.menu.subMenuCollapse,e=>{t.mode==="mobile"&&(e?document.body.classList.remove("overflow-hidden"):document.body.classList.add("overflow-hidden"))}),b(()=>c.path,()=>{t.mode==="mobile"&&t.$patch(e=>{e.settings.menu.subMenuCollapse=!0})}),H(()=>{u("f5",e=>{t.settings.toolbar.pageReload&&(e.preventDefault(),S.reload())}),u("alt+`",e=>{t.settings.menu.enableHotkeys&&(e.preventDefault(),C.switchTo(m.actived+1<m.allMenus.length?m.actived+1:0))})}),B(()=>{u.unbind("f5"),u.unbind("alt+`")}),(e,a)=>{const l=D("RouterView"),x=j;return n(),f("div",{class:"layout",style:K({"--g-header-actual-height":`${o(w)}px`,"--g-main-sidebar-actual-width":`${o(k)}px`,"--g-sub-sidebar-actual-width":`${o(M)}px`,"--g-topbar-actual-height":`${o(V)}px`})},[s("div",ae,[i(Z),s("div",ne,[s("div",{class:h(["sidebar-container",{show:o(t).mode==="mobile"&&!o(t).settings.menu.subMenuCollapse}])},[i(O),i(ee)],2),s("div",{class:h(["invisible fixed inset-0 z-1009 bg-black/50 op-0 backdrop-blur-sm transition-opacity",{"op-100! visible!":o(t).mode==="mobile"&&!o(t).settings.menu.subMenuCollapse}]),onClick:a[0]||(a[0]=p=>o(t).toggleSidebarCollapse())},null,2),s("div",re,[i(te),s("div",me,[i(l,null,{default:v(({Component:p,route:I})=>[i(L,{name:"slide-right",mode:"out-in"},{default:v(()=>[(n(),d(T,{include:o(y).list},[R((n(),d(_(p),{key:I.fullPath})),[[W,!o(g)]])],1032,["include"]))]),_:2},1024)]),_:1}),o(g)?(n(),d(oe,{key:0})):z("",!0)]),i(Y)])])]),i(G),(n(),f(F,{key:0},[s("div",{class:"app-setting",onClick:a[1]||(a[1]=p=>o(Q).emit("global-app-setting-toggle"))},[i(x,{name:"i-uiw:setting-o",class:"icon"})]),i(U)],64)),i(X),(n(),d(_(o(J)("free-position"))))],4)}}}),Ue=q(le,[["__scopeId","data-v-80c8cd1d"]]);export{Ue as default};
